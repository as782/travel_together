import{d as h,v as w,G as C,a5 as l,r as u,q as D,c as n,b as m,w as L,f as T,o,D as b,C as G,B as M}from"./index-Al1ESLyH.js";import{L as P}from"./index-DVp0JOWu.js";import{E as S}from"./index-C4YkaPVR.js";import{u as x}from"./post-Ds4jAp6n.js";import{b as B}from"./index-Bc0MyXRq.js";import{_ as J}from"./GroupInfoCard.vue_vue_type_script_setup_true_lang-Dbxb_lqa.js";import"./use-tab-status-CfkwxFsA.js";import"./index-o3mCI9mj.js";const $={class:"bg-white"},E={key:0,class:"w-full"},U={key:1,class:"p-2"},K=h({__name:"MyJoinedTeam",setup(F){w(()=>{k()});const _=T(),c=x(),p=C(),{userInfo:g}=l(p),{myJoinGroupPostDetailList:y}=l(c),d=u({desc:"你还没有关注任何人，快去发现更多精彩内容吧！",btnText:"去发现",imgType:"default"}),r=u([]),v=async a=>(await B(a)).data;D(y,async a=>{r.value=await Promise.all(a.data.map(async t=>{const{user_info:e}=t,s=await v(t.post_id);return{userInfo:{user_id:(e==null?void 0:e.user_id)??0,nickname:(e==null?void 0:e.nickname)??"Unkonw",avatar_url:(e==null?void 0:e.avatar_url)??"",likeFans:s},card_id:t.post_id,desc:t.title,condition:{destination:[t.start_location,t.end_location],time:`${t.duration_day}`},cover_imgUrl:t.images[0].image_url,createTime:t.created_at||void 0}}))},{immediate:!0,deep:!0});const k=async(a=1,t=10)=>{const s={user_id:g.value.user_id,page:a,limit:t};await c.getMyJoinedGroupPostDetailList(s)},f=a=>{_.push(`/groupDetail/${a}`)};return(a,t)=>{const e=S,s=P;return o(),n("main",$,[m(s,null,{default:L(()=>[r.value.length?(o(),n("div",U,[(o(!0),n(b,null,G(r.value,i=>(o(),M(J,{key:i.card_id,onClick:I=>f(i.card_id),cardData:i,class:"my-4"},null,8,["onClick","cardData"]))),128))])):(o(),n("div",E,[m(e,{"image-size":200,description:d.value.desc,image:d.value.imgType},null,8,["description","image"])]))]),_:1})])}}});export{K as default};
